<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<f:metadata>
		<f:event type="preRenderComponent" listener="#{parametroAction.init}" />
	</f:metadata>

	<ui:define name="title">
    	Parâmetros
    </ui:define>

	<ui:define name="content">

		<h:panelGroup id="painelParametro">

			<div class="container">

				<h2
					class="page-section-heading text-center text-uppercase text-secondary mb-0">Parâmetros</h2>

				<div class="divider-custom">
					<div class="divider-custom-line"></div>
					<div class="divider-custom-icon">
						<i class="fas fa-wrench"></i>
					</div>
					<div class="divider-custom-line"></div>
				</div>

				<div class="row">

					<div class="col-lg-12 mx-auto">

						<div class="card mb-3">

							<div class="card-header">
								<i class="fa fa-table" style="margin-right: 2px;"></i> Registros
							</div>

							<div class="card-body">

								<p:dataTable id="dataTableListaParametro" var="_parametro"
									value="#{parametroForm.listaParametro}" editable="true">

									<p:ajax event="rowEdit" global="false"
										listener="#{parametroAction.salvar}" update="@form:msgsGrowl" />

									<p:ajax event="rowEditCancel" global="false"
										update="@form:msgsGrowl" />

									<p:column headerText="Chave">
										<h:outputText value="#{_parametro.chave}" />
									</p:column>

									<p:column headerText="Valor">
										<p:cellEditor>
											<f:facet name="output">
												<h:outputText value="#{_parametro.valor}" />
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{_parametro.valor}" style="width:100%"
													label="Valor" />
											</f:facet>
										</p:cellEditor>
									</p:column>

									<p:column headerText="Ações" style="width:6rem">
										<p:rowEditor editTitle="Editar" cancelTitle="Cancelar"
											saveTitle="Salvar" />
									</p:column>
								</p:dataTable>

							</div>

							<div class="card-footer small text-muted">Parâmetros
								Cadastrados.</div>

						</div>

					</div>

				</div>

			</div>

			<script type="text/javascript">
			//<![CDATA[
				
	           	$(document).ready(function () {
	           	});
	           	
		       	//]]>
		   	</script>

		</h:panelGroup>

	</ui:define>

</ui:composition>